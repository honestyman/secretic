# deptrac.yaml
deptrac:
  paths:
    - ./app
  exclude_files:
    - '#.*test.*#'
  layers:
    -
      name: Controller
      collectors:
        -
          type: className
          value: .*Controller.*
    -
      name: Service
      collectors:
        -
          type: directory
          value: /app/Services/.*
    -
      name: ServiceProvider
      collectors:
        -
          type: directory
          value: /app/Providers/.*
    -
      name: Model
      collectors:
        -
          type: directory
          value: /app/Models/.*
  ruleset:
    Controller:
      - Service
      - Repository
      - Model # TODO Temporary controllers must depend on Models
    Service:
      - Repository
      - Model
    ServiceProvider:
      - Service
    # Models should not depend on other layers
    Model: ~
